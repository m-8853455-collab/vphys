<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Work–Energy Problem Solver | VPhys</title>

<style>
body {
  font-family: Arial, sans-serif;
  margin: 0;
  background: #eef2f7;
}
header, footer {
  background: #1e3a8a;
  color: white;
  text-align: center;
  padding: 15px;
}
section {
  background: white;
  margin: 15px auto;
  padding: 15px;
  width: 90%;
  border-radius: 8px;
}
label {
  font-weight: bold;
}
input, select, button {
  margin: 6px 0;
  padding: 6px;
  width: 100%;
}
button {
  background: #1e3a8a;
  color: white;
  border: none;
  cursor: pointer;
}
.box {
  background: #f4f6ff;
  padding: 10px;
  border-left: 4px solid #1e3a8a;
}
</style>
</head>

<body>

<header>
<h1>Work–Energy Problem Solver</h1>
<p>Step-by-step exam-style solutions</p>
</header>

<section>
<h2>1️⃣ Select Problem Type</h2>
<select id="problemType">
  <option value="">-- Select --</option>
  <option value="incline">Inclined Plane with Friction</option>
  <option value="spring">Falling Object + Spring</option>
  <option value="pulley">Pulley with Friction</option>
</select>
</section>

<section id="inputs" style="display:none;">
<h2>2️⃣ Enter Values</h2>

<div id="inclineBox">
<label>Mass (kg)</label>
<input id="inc_mass" type="number" value="20">

<label>Angle (degrees)</label>
<input id="inc_angle" type="number" value="25">

<label>Distance (m)</label>
<input id="inc_dist" type="number" value="3.8">

<label>Applied Force (N)</label>
<input id="inc_force" type="number" value="250">

<label>Coefficient of friction μ</label>
<input id="inc_mu" type="number" value="0.3">
</div>

<div id="springBox">
<label>Mass (kg)</label>
<input id="spr_mass" type="number" value="2">

<label>Drop height (m)</label>
<input id="spr_height" type="number" value="0.3">

<label>Spring constant k (N/m)</label>
<input id="spr_k" type="number" value="2000">
</div>

<div id="pulleyBox">
<label>Mass A (kg)</label>
<input id="pul_m1" type="number" value="1">

<label>Mass B (kg)</label>
<input id="pul_m2" type="number" value="2">

<label>Distance moved (m)</label>
<input id="pul_dist" type="number" value="0.5">

<label>Final speed (m/s)</label>
<input id="pul_speed" type="number" value="2">
</div>

<button onclick="solveProblem()">Solve</button>
</section>

<section id="solution" style="display:none;">
<h2>3️⃣ Solution</h2>
<div id="output" class="box"></div>
</section>

<footer>
<p>© VPhys</p>
</footer>

<script>
const g = 9.8;

document.getElementById("problemType").addEventListener("change", function () {
  document.getElementById("inputs").style.display = "block";
  document.getElementById("solution").style.display = "none";

  inclineBox.style.display = "none";
  springBox.style.display = "none";
  pulleyBox.style.display = "none";

  if (this.value === "incline") inclineBox.style.display = "block";
  if (this.value === "spring") springBox.style.display = "block";
  if (this.value === "pulley") pulleyBox.style.display = "block";
});

function solveProblem() {
  const type = document.getElementById("problemType").value;
  let text = "";

  if (type === "incline") {
    const m = +inc_mass.value;
    const theta = inc_angle.value * Math.PI / 180;
    const s = +inc_dist.value;
    const F = +inc_force.value;
    const mu = +inc_mu.value;

    const N = m * g * Math.cos(theta);
    const friction = mu * N;

    const W_F = F * s;
    const W_g = -m * g * s * Math.sin(theta);
    const W_f = -friction * s;
    const W_total = W_F + W_g + W_f;

    text = `
    Forces doing work: Applied force, gravity, friction<br><br>
    Work by force F = ${W_F.toFixed(2)} J<br>
    Work by gravity = ${W_g.toFixed(2)} J<br>
    Work by friction = ${W_f.toFixed(2)} J<br><br>
    <b>Total work = ${W_total.toFixed(2)} J</b>
    `;
  }

  if (type === "spring") {
    const m = +spr_mass.value;
    const h = +spr_height.value;
    const k = +spr_k.value;

    const v = Math.sqrt(2 * g * h);
    const x = Math.sqrt((2 * m * g * h) / k);

    text = `
    Just before spring: KE = mgh<br>
    Energy equation: mgh = ½kx²<br><br>
    Speed before impact = ${v.toFixed(2)} m/s<br>
    <b>Maximum compression x = ${x.toFixed(3)} m</b>
    `;
  }

  if (type === "pulley") {
    const m1 = +pul_m1.value;
    const m2 = +pul_m2.value;
    const d = +pul_dist.value;
    const v = +pul_speed.value;

    const deltaKE = 0.5 * (m1 + m2) * v * v;
    const deltaPE = m2 * g * d;
    const W_fric = deltaKE - deltaPE;

    text = `
    Change in KE = ${deltaKE.toFixed(2)} J<br>
    Change in PE = ${deltaPE.toFixed(2)} J<br><br>
    <b>Work done by friction = ${W_fric.toFixed(2)} J</b>
    `;
  }

  output.innerHTML = text;
  document.getElementById("solution").style.display = "block";
}
</script>

</body>
</html>
