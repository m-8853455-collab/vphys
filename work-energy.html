<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Work–Energy Problem Solver | VPhys</title>

<style>
body {
  font-family: Arial, sans-serif;
  margin: 0;
  background: #eef2f7;
}
header, footer {
  background: #1e3a8a;
  color: white;
  text-align: center;
  padding: 15px;
}
section {
  background: white;
  margin: 15px auto;
  padding: 15px;
  width: 90%;
  border-radius: 8px;
}
label {
  font-weight: bold;
}
input, select, button {
  margin: 5px 0;
  padding: 5px;
}
.box {
  background: #f5f7ff;
  padding: 10px;
  border-left: 4px solid #1e3a8a;
}
.correct { color: green; }
.wrong { color: red; }
</style>
</head>

<body>

<header>
<h1>Work–Energy Theorem Problem Solver</h1>
<p>VPhys – Learn how to THINK, not just calculate</p>
</header>

<section>
<h2>1️⃣ Choose Problem Type</h2>
<select id="problem" onchange="updateProblem()">
  <option value="">-- Select --</option>
  <option value="incline">Inclined Plane with Friction</option>
  <option value="spring">Falling Object + Spring</option>
  <option value="pulley">Two Masses + Pulley</option>
</select>
</section>

<section id="inputs" style="display:none;">
<h2>2️⃣ Enter Given Values</h2>

<div id="inclineInputs">
<label>Mass (kg)</label><br>
<input id="m" type="number" value="20"><br>

<label>Angle θ (degrees)</label><br>
<input id="theta" type="number" value="25"><br>

<label>Distance s (m)</label><br>
<input id="s" type="number" value="3.8"><br>

<label>Applied Force F (N)</label><br>
<input id="F" type="number" value="250"><br>

<label>Coefficient of friction μ</label><br>
<input id="mu" type="number" value="0.3"><br>
</div>

<div id="springInputs">
<label>Mass (kg)</label><br>
<input id="ms" type="number" value="2"><br>

<label>Drop height h (m)</label><br>
<input id="h" type="number" value="0.3"><br>

<label>Spring constant k (N/m)</label><br>
<input id="k" type="number" value="2000"><br>
</div>

<div id="pulleyInputs">
<label>Mass A (kg)</label><br>
<input id="m1" type="number" value="1"><br>

<label>Mass B (kg)</label><br>
<input id="m2" type="number" value="2"><br>

<label>Distance moved (m)</label><br>
<input id="d" type="number" value="0.5"><br>

<label>Final speed (m/s)</label><br>
<input id="v" type="number" value="2"><br>
</div>

<button onclick="solve()">Solve Step-by-Step</button>
</section>

<section id="solution" style="display:none;">
<h2>3️⃣ Step-by-Step Solution</h2>
<div id="steps" class="box"></div>
</section>

<footer>
<p>© VPhys – Work–Energy Mastery</p>
</footer>

<script>
function updateProblem() {
  document.getElementById("inputs").style.display = "block";
  document.getElementById("solution").style.display = "none";

  document.getElementById("inclineInputs").style.display = "none";
  document.getElementById("springInputs").style.display = "none";
  document.getElementById("pulleyInputs").style.display = "none";

  let p = document.getElementById("problem").value;
  if (p === "incline") document.getElementById("inclineInputs").style.display = "block";
  if (p === "spring") document.getElementById("springInputs").style.display = "block";
  if (p === "pulley") document.getElementById("pulleyInputs").style.display = "block";
}

function solve() {
  let p = document.getElementById("problem").value;
  let g = 9.8;
  let steps = "";

  if (p === "incline") {
    let m = +m.value;
    let theta = theta.value * Math.PI/180;
    let s = +s.value;
    let F = +F.value;
    let mu = +mu.value;

    let N = m * g * Math.cos(theta);
    let fk = mu * N;

    let WF = F * s;
    let Wg = -m * g * s * Math.sin(theta);
    let Wf = -fk * s;

    let Wtotal = WF + Wg + Wf;

    steps += `✔ Forces doing work: Applied force, gravity, friction<br><br>`;
    steps += `W<sub>F</sub> = ${WF.toFixed(2)} J (positive)<br>`;
    steps += `W<sub>g</sub> = ${Wg.toFixed(2)} J (negative)<br>`;
    steps += `W<sub>f</sub> = ${Wf.toFixed(2)} J (negative)<br><br>`;
    steps += `<b>Total Work = ${Wtotal.toFixed(2)} J</b><br>`;
    steps += `By Work–Energy Theorem: W = ΔKE`;

  }

  if (p === "spring") {
    let m = +ms.value;
    let h = +h.value;
    let k = +k.value;

    let v = Math.sqrt(2 * g * h);
    let x = Math.sqrt((m * g * (h)) * 2 / k);

    steps += `Initial KE = 0<br>`;
    steps += `Just before spring: KE = mgh<br>`;
    steps += `mgh = ½kx²<br><br>`;
    steps += `Compression x = ${x.toFixed(3)} m`;

  }

  if (p === "pulley") {
    let m1 = +m1.value;
    let m2 = +m2.value;
    let d = +d.value;
    let v = +v.value;

    let deltaKE = 0.5 * (m1 + m2) * v * v;
    let deltaPE = m2 * g * d;

    let Wf = deltaKE - deltaPE;

    steps += `Change in KE = ${deltaKE.toFixed(2)} J<br>`;
    steps += `Change in PE = ${deltaPE.toFixed(2)} J<br><br>`;
    steps += `<b>Work done by friction = ${Wf.toFixed(2)} J</b>`;

  }

  document.getElementById("solution").style.display = "block";
  document.getElementById("steps").innerHTML = steps;
}
</script>

</body>
</html>
