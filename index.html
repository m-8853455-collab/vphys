<script>
function calculateWorkEnergy() {
    const F = +document.getElementById("weForce").value;
    const s = +document.getElementById("weDisplacement").value;
    const theta = +document.getElementById("weAngle").value * Math.PI/180;
    const u = +document.getElementById("weU").value;
    const m = +document.getElementById("weMass").value;

    const W = F * s * Math.cos(theta);
    const KEi = 0.5 * m * u * u;
    const KEf = KEi + W;

    document.getElementById("weWork").innerText = W.toFixed(2);
    document.getElementById("weKEi").innerText = KEi.toFixed(2);
    document.getElementById("weKEf").innerText = KEf.toFixed(2);

    drawWE(theta);
}

function drawWE(theta) {
    const c = document.getElementById("weCanvas");
    const ctx = c.getContext("2d");
    ctx.clearRect(0,0,c.width,c.height);

    // block
    ctx.fillStyle="#555";
    ctx.fillRect(60,90,50,30);

    // displacement
    ctx.strokeStyle="blue";
    ctx.beginPath();
    ctx.moveTo(110,105);
    ctx.lineTo(320,105);
    ctx.stroke();
    ctx.fillText("Displacement",200,95);

    // force arrow
    ctx.strokeStyle="red";
    const fx = 70*Math.cos(theta);
    const fy = -70*Math.sin(theta);
    ctx.beginPath();
    ctx.moveTo(85,90);
    ctx.lineTo(85+fx,90+fy);
    ctx.stroke();
    ctx.fillText("Force",85+fx+5,90+fy);
}
</script>
